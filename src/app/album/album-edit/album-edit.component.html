<h1 class="p-3" style="text-align: center;">Editar Álbum</h1>


<div fxLayout="row" fxLayoutGap="40px" fxLayout.xs="column" fxLayoutAlign="center center">
    <div fxFlex="60" fxLayout="column">

        <form (ngSubmit)="editarAlbum(albumForm.value)" autocomplete="off" [formGroup]="albumForm">

            <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="20px">
                <mat-form-field fxFlex="100" fxLayout.xs="column">
                    <mat-label>Título</mat-label>
                    <input matInput type="text" formControlName="titulo" placeholder="Titulo del album" placeholder id="input_titulo">
                    <span class="form-text text-danger" *ngIf="albumForm.get('titulo')?.hasError('required') && albumForm.get('titulo')?.touched">
                        Debe ingresar un título para el álbum
                    </span>
                    <span class="form-text text-danger" *ngIf="albumForm.get('titulo')?.hasError('minlength')">
                        El título debe tener por lo menos un carácter
                    </span>
                    <span class="form-text text-danger" *ngIf="albumForm.get('titulo')?.hasError('maxlength')">
                        El título no debe exceder los 128 carácteres
                    </span>
                </mat-form-field>
            </div>

            <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="20px">
                <mat-form-field fxFlex="100" fxLayout.xs="column">
                    <mat-label>Año</mat-label>
                    <input matInput type="text" formControlName="anio" placeholder="Año de lanzamiento" placeholder id="input_anio">
                    <span class="form-text text-danger" *ngIf="albumForm.get('anio')?.hasError('required') && albumForm.get('anio')?.touched">
                        Debe ingresar un año para el álbum
                    </span>
                    <span class="form-text text-danger" *ngIf="albumForm.get('anio')?.hasError('minlength')">
                        El año debe tener 4 números
                    </span>
                    <span class="form-text text-danger" *ngIf="albumForm.get('anio')?.hasError('maxlength')">
                        El año debe tener 4 números
                    </span>
                </mat-form-field>
            </div>


            <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="20px">
                <mat-form-field fxFlex="60" appearance="fill" id="select_medio">
                    <mat-label>Medio</mat-label>
                    <mat-select formControlName="medio">
                        <mat-option value="" disabled>Selecciona el medio del álbum</mat-option>
                        <mat-option *ngFor="let medio of medios" value={{medio.llave}}>{{medio.llave}}</mat-option>
                    </mat-select>
                    <span class="form-text text-danger" *ngIf="albumForm.get('medio')?.hasError('required') && albumForm.get('medio')?.touched">
                        Debe seleccionar el medio del álbum
                    </span>
                </mat-form-field>
            </div>


            <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="20px">
                <mat-form-field fxFlex="100" appearance="fill">
                    <mat-label>Descripción</mat-label>
                    <textarea matInput formControlName="descripcion" placeholder="Descripción del álbum"></textarea>
                    <span class="form-text text-danger" *ngIf="albumForm.get('descripcion')?.hasError('required') && albumForm.get('descripcion')?.touched">
                        Debe ingresar una descripción para el álbum
                    </span>
                    <span class="form-text text-danger" *ngIf="albumForm.get('descripcion')?.hasError('minlength')">
                        La descripción del álbum debe tener por lo menos un carácter
                    </span>
                    <span class="form-text text-danger" *ngIf="albumForm.get('descripcion')?.hasError('maxlength')">
                        La descripción del álbum no debe superar los 512 carácteres
                    </span>
                </mat-form-field>
            </div>

            <br>

            <div fxLayout class="button-row">
                <button mat-raised-button color="primary" type="submit" [disabled]="!albumForm.valid">
                    <mat-icon>edit</mat-icon>
                    Editar
                </button>

                <button mat-raised-button (click)="cancelCreate()">
                    <mat-icon>cancel</mat-icon>
                    Cancelar
                </button>
            </div>

        </form>

    </div>


</div>